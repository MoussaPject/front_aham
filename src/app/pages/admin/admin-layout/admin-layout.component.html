<div class="admin-layout">
  <aside class="admin-sidebar">
    <div class="admin-logo-section">
      <div class="brand-logo">
        <span class="logo-dot"></span> Ahma-Dile
      </div>
      <div class="admin-logo-sub">E-Boutique Admin</div>
    </div>

    <nav class="admin-nav">
      <a routerLink="/admin/dashboard" routerLinkActive="active">
        <mat-icon>grid_view</mat-icon>
        <span>Dashboard</span>
      </a>
      <a routerLink="/admin/produits" routerLinkActive="active">
        <mat-icon>inventory_2</mat-icon>
        <span>Produits</span>
      </a>
      <a routerLink="/admin/categories" routerLinkActive="active">
        <mat-icon>category</mat-icon>
        <span>Catégories</span>
      </a>
      <a routerLink="/admin/commandes" routerLinkActive="active">
        <mat-icon>receipt_long</mat-icon>
        <span>Commandes</span>
      </a>
      <a routerLink="/admin/utilisateurs" routerLinkActive="active">
        <mat-icon>group</mat-icon>
        <span>Utilisateurs</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <button (click)="logout()" class="logout-link">
        <mat-icon>logout</mat-icon>
        <span>Déconnexion</span>
      </button>
    </div>
  </aside>

  <main class="admin-content">
    <header class="admin-topbar">
      <div class="topbar-left">
        <div class="search-box">
          <mat-icon>search</mat-icon>
          <input type="text" placeholder="Rechercher...">
        </div>
      </div>

      <div class="topbar-right">
        <button class="notif-btn">
          <mat-icon>notifications</mat-icon>
          <span class="badge"></span>
        </button>

        <div class="admin-profile" (click)="toggleProfileMenu()">
          <div class="avatar">
            <span *ngIf="!userImageUrl">{{ userInitial }}</span>
            <img *ngIf="userImageUrl" [src]="userImageUrl" alt="Admin">
          </div>
          <div class="profile-details">
            <span class="name">{{ currentUser?.name || 'Administrateur' }}</span>
            <span class="role">Gérant</span>
          </div>
          <mat-icon>expand_more</mat-icon>

          <div class="profile-dropdown" *ngIf="isProfileMenuOpen">
            <a routerLink="/admin/profil"><mat-icon>person</mat-icon> Mon Profil</a>
            <hr>
            <a (click)="logout()" class="danger"><mat-icon>logout</mat-icon> Quitter</a>
          </div>
        </div>
      </div>
    </header>

    <div class="admin-page-container">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>